<!--
 - @author aidan@nebulaconsulting.co.uk
 - @date 08/12/2021
 - @description (if required)
 -->

<!-- Flow Map Editor -->
<template>
    <div class="slds-m-bottom_x-small">
        <h2 class="slds-text-heading_medium slds-p-around_xx-small lgc-bg-inverse">
            Value to Map
        </h2>

        <div class="slds-p-around_xx-small lgc-bg">
            <lightning-input
                    type="text"
                    label="This Key"
                    placeholder="Enter a variable for this key..."
                    value={thisKey}
                    onchange={handleThisKeyChange}
                    required="true"
            >
            </lightning-input>
        </div>
    </div>

    <div class="slds-m-bottom_x-small">
        <h2 class="slds-text-heading_medium slds-p-around_xx-small lgc-bg-inverse">
            Key Value Pairs
        </h2>

        <template for:each={keyValuePairs} for:item="thisPair" for:index="pairIndex">
            <div class="slds-p-around_xx-small lgc-bg" key={thisPair.key}>
                <lightning-input
                        type="text"
                        label="Key"
                        name="key"
                        value={thisPair.key}
                        required="true"
                        data-index={pairIndex}
                        onchange={handleKeyValueInputChange}
                >
                </lightning-input>
                <lightning-input
                        type="text"
                        label="Value"
                        name="value"
                        value={thisPair.value}
                        data-index={pairIndex}
                        onchange={handleKeyValueInputChange}
                >
                </lightning-input>

            </div>
        </template>
        <lightning-button icon-name="utility-add" label="Add Key/Value Pair" onclick={addKeyValuePair}>
        </lightning-button>

    </div>

</template>